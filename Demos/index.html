 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>ART Demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<script>
		window.prefix = '../../lsd-examples/Demos/';
	  if (location.host.indexOf('github') > -1) {
	    window.loader = function(src) {
	      src = src.replace(/^.*(lsd|lsd-base|lsd-examples|mootools-ext)\//, 'http://inviz.github.com/$1/').
      	          replace(/^.*(qfocuser|cssparser)\//, 'http://github.com/inviz/$1/raw/master/').
      	          replace(/^.*(..\/..\/..\/Source)\//, 'http://inviz.github.com/lsd/Source/').
      	          replace(/^.*(..\/..\/Source)\//, 'http://inviz.github.com/lsd-examples/Source/').
      	          replace(/^.*(mootools-core|mootools-more)\//, 'http://github.com/mootools/$1/raw/master/').
                	replace(/^.*(mootools-color|mootools-touch|art)\//, 'http://github.com/kamicane/$1/raw/master/')
	         
	      document.write('<scr' + 'ipt src="' + (prefix || '') + src + '"></sc' + 'ript>');
	    }

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-18508300-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

	  }
	</script>
	<script src="../../lsd-examples/Scripts/includes.js"></script>
	<!-- <script src="../Scripts/lsd.js"></script> -->
  
	<link rel="art stylesheet" href="./Assets/Styles/Themes/HUD/screen.css">
	
	<script>
	  window.addEvent('domready', function() {
  		
  		ART.Sheet.decompile('art', function() {
  		  
  		//ART.Sheet.compile();
  		
  		
  		var HUD = new Class({  
      	Includes: [
          ART.Application,
      	  Widget.Trait.Focus.Stateful,
      	  ART.Widget.Trait.Draggable.Stateful,
      	  ART.Widget.Trait.Resizable.Stateful,
      	  ART.Widget.Trait.Resizable.Container,
      	  ART.Widget.Trait.Fitting
      	],
      	
      	events: {
      	  element: {
      	    mousedown: 'retain'
      	  }
      	},
      	
      	options: {
      	  dragger: {
      	    modifiers: {
      	      y: null
      	    }
      	  }
      	},

        expression: "window.hud",

      	layout: {
      	  'section#header': {
            'button#toggler[shy]': {},
      	    'menu[type=toolbar][hoverable][shy]#buttons': {
              'button#close': {}
      	    },
      	    '#title[container]': {}
      	  },
      	  'section#content[container][scrollable]': {
      	    'form.two-column#appearance': {
        	    'section#first.first': [
        	      {'label[for=appearance]': 'Text input:'},
        	      'input#appearance',
        	    ],
        	    'section#firstandhalf': [
        	      {'label[for=appearance]': 'Slider:'},
          	    'input[type=range]#count',
        	      {'label[for=tint]': 'Tint:'},
          	    'input[type=range]#tint'
        	    ],
        	    'section#third': [
        	      {'label[for=selectbox]': 'Selectbox:'},
        	      'select#selectbox'
        	    ],
        	    'section#fourth.centered': [
      	        'input[type=checkbox]#checkbox',
        	      {'label.inline[for=checkbox]': 'You\'re feeiling alright?'}
        	    ],
        	    'section#tos[scrollable=true][height=content - 240]': '<div style="height: 200px;">Test</div>',
        	    'section#buttons.last': [
        	      {'button#reset': 'Reset'}
        	    ]
      	    },
    	      'glyph[name=drag-handle][at=bottom right]#handle': {}
    	    }
      	},

      	options: {
      	  resizer: {
      	    crop: true
      	  }
      	},

      	getHandle: function() {
      	  return $(this.content.handle)
      	}

      });
      
  		
  		
  		
      if (window.$d) return;
      $d = new ART.Document
  		
	    var counter = {}
	    counter.old = {
	      redraws: ART.Widget.Paint.redraws,
	      widgets: ART.Widget.count
	    }
	    if (window.console && console.profile) console.profile('HUD render')
	    $z = new HUD();
			$z.content.setStyles({minHeight: 285, width: 200})
	    $z.inject($d);	
	    $z.setStyles({top: 50, left: 50, zIndex: 400})
			$z.header.title.setContent('HUD Window')
	    if (window.console && console.profile) console.profileEnd('HUD render')
			//$z.fit();
	    
	    
	    
	    
	    
	    counter.current = {
	      redraws: ART.Widget.Paint.redraws,
	      widgets: ART.Widget.count
	    }
	    counter.delta = {
	      redraws: counter.current.redraws - counter.old.redraws,
	      widgets: counter.current.widgets - counter.old.widgets,
	    }
	    
	    console.info('Widgets: ', counter.delta.widgets, 'Redraws: ', counter.delta.redraws)
	    
		});
  		
	  });
	</script>
</head>
<body>
</body>
</html>